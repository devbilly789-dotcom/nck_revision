{% extends 'base.html' %}
{% block title %}Manage Categories - NCK Prep{% endblock %}
{% block content %}
<div class="admin-page">
    <div class="admin-header">
        <h1>Manage Categories</h1>
        <a href="{% url 'admin_panel' %}" class="btn-back">‚Üê Dashboard</a>
    </div>
    <div class="two-col">
        <div class="form-card">
            <h2>Add Category</h2>
            <form method="post">
                {% csrf_token %}
                {% for field in form %}
                <div class="form-group">
                    <label>{{ field.label }}</label>
                    {{ field }}
                    {% if field.errors %}<span class="field-error">{{ field.errors.0 }}</span>{% endif %}
                </div>
                {% endfor %}
                <button type="submit" class="btn-primary">Add Category</button>
            </form>
        </div>
        <div class="cat-list">
            <h2>All Categories</h2>
            {% for cat in categories %}
            <div class="cat-item">
                <span class="cat-course-badge {{ cat.course }}">{{ cat.course }}</span>
                <span class="cat-name">{{ cat.name }}</span>
                <span class="cat-count">{{ cat.questions.count }} Q</span>
            </div>
            {% empty %}
            <p>No categories yet.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
